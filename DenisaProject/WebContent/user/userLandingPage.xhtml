<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>User</title>
	<link type="text/css" href="../css/bootstrap.min.css" rel="stylesheet" />
	<link type="text/css" href="../css/font-awesome.min.css"
		rel="stylesheet" />
	<link type="text/css" href="../css/main.css" rel="stylesheet" />

</h:head>
<h:body>
	<ui:insert name="header">
		<ui:include src="../templates/user-header.xhtml">
			<ui:param name="defaultHeader" value="Default Header" />
		</ui:include>
	</ui:insert>
	<div class="container">
		<div class="row">
			<p:panel>
				<h:form style="margin:auto">

					<h2>Application</h2>
					<p:growl id="growl" showDetail="false" sticky="false" />

					<p:outputLabel for="type" value="Application type : " />
					<p:selectOneMenu id="type" value="#{applicationBean.selectedType}"
						style="width:150px"
						valueChangeListener="#{applicationBean.valueChangedType}"
						immediate="true" required="true"
						requiredMessage="Choose an application type">
						<f:selectItem itemLabel="Type" itemValue=""
							noSelectionOption="true" />
						<f:selectItems value="#{applicationBean.types}" var="selectedType"
							itemLabel="#{selectedType.type}" itemValue="#{selectedType.type}" />
						<f:ajax render="#{applicationBean.typeModel.type}"></f:ajax>
					</p:selectOneMenu>
					<br />

					<p:outputLabel for="startDate" value="Start date : " />
					<p:calendar id="startDate" value="#{applicationBean.startDate}"
						mindate="#{applicationBean.getCurrentDate()}" pattern="yyyy-MM-dd"
						mask="true" required="true"
						requiredMessage="Insert start date for your application!">
						<f:convertDateTime pattern="yyyy-MM-dd" />
					</p:calendar>
					<br />
					<p:outputLabel for="finishDate" value="Finish date : " />
					<p:calendar id="finishDate" value="#{applicationBean.finishDate}"
						mindate="#{applicationBean.getCurrentDate()}" pattern="yyyy-MM-dd"
						mask="true" required="true"
						requiredMessage="Insert finish date for your application!">
						<f:convertDateTime pattern="yyyy-MM-dd" />
					</p:calendar>
					<br />
					<br />
					<p:outputLabel for="area" value="Description : " />
					<p:inputTextarea id="area" value="#{applicationBean.description}"
						rows="5" cols="30" maxlength="50"
						counterTemplate="{0} characters remaining." autoResize="false" />
					<br />
					<br />
					<h:commandButton action="#{applicationBean.addApplication}"
						style="background: #FE980F; color:FFFFFF; width:250px"
						value="Apply" class="btn btn-default" imediate="true"></h:commandButton>

				</h:form>
			</p:panel>
		</div>
	</div>
</h:body>

</html>
